---
import SlideLayout from "../../../layouts/SlideLayout.astro"
import Goal from "../../../components/Goal.astro"

import AgendaSection from "../../../components/AgendaSection.astro"

import Explainer from "../../../components/Explainer.svelte"
import codeFetcher from "../../../js/codeFetcher";
import Code from "../../../components/Code.astro";

const snippets = await codeFetcher("digital-design/3.basic-components",[
    "basic-1.svelte",
    "basic-2.svelte",
    "basic-3.svelte",
    "basic-4.svelte",
    "import-1.svelte",
    "import-2.svelte",
    "slot-1.svelte",
    "slot-2.svelte",
    "props-1.svelte",
    "props-2.svelte",
    "props-3.svelte",
])

---

<SlideLayout title="Basic Components" lang="da">
    <AgendaSection h2="Basic Components" p="jofh@kea.dk">
        <section>
          <Goal>
            <ol>
                <li>Forstå hvordan components er bygget op</li>
                <li>Forstå <code>import</code></li>
                <li>Forstå <code>props</code></li>
                <li>Forstå hvordan <code>&lt;slot&gt;</code>'s virker</li>
            </ol>
          </Goal>
        </section>
    </AgendaSection>
   
   <AgendaSection header="Struktur">
    <section>
        <p>I Svelte er hver component bygget op af 3 sektioner</p>
        <ol>
            <li class="fragment"><code>&lt;script&gt;</code></li>
            <li class="fragment">markup</li>
            <li class="fragment"><code>&lt;style&gt;</code></li>
        </ol>
    </section>
    <section data-auto-animate>
        <Code dataId="basic" code={snippets["basic-1.svelte"]} language="html" />
    </section>

    <section data-auto-animate>
        <Code dataId="basic" code={snippets["basic-2.svelte"]} language="html" />
    </section>

    <section data-auto-animate>
        <Code dataId="basic" code={snippets["basic-3.svelte"]} language="html" />
    </section>

    <section data-auto-animate>
        <Code dataId="basic" code={snippets["basic-4.svelte"]} language="html" stretch />
    </section>

   </AgendaSection>

    <AgendaSection header="<code>import</code>">
        <section>
            <p>Vi splitter vores components op i små bidder</p>
            <p>og <code>import</code>érer det vi skal bruge</p>
        </section>

        <section>
            <Code code={snippets["import-1.svelte"]} lineNumbers="1-3|5|7-12"/>
            <div class="fragment">
            <Code code={snippets["import-2.svelte"]} lineNumbers="0|1-4|6-11|9" />
            </div>
        </section>
        <section>
            <p>Lad os prøve en gang</p>
        </section>
    </AgendaSection>

    <AgendaSection header="Øvelse" p="TODO:"></AgendaSection>

    <AgendaSection header="<code>slots</code>">
        <section>
            <p>Indtil videre har vores components været "dumme"</p>
            <p>Vores <code>MyButton</code> kan kun skrive "Klik på mig"</p>
            <p>I Svelte kan vi "sende data ned" fra forældre til børn</p>
        </section>
        <section>
            <Code code={snippets["slot-1.svelte"]} lineNumbers="6"/>
            <div class="fragment">
            <Code code={snippets["slot-2.svelte"]} lineNumbers="9" />
            </div>
        </section>
        <section>
            <p>Så, alt hvad vi skriver mellem <code>&lt;MyButton&gt;</code> og <code>&lt;/MyButton&gt;</code> bliver "indsat" i <code>&lt;slot /&gt;</code></p>
        </section>
    </AgendaSection>

    <AgendaSection header="Øvelse" />

    <AgendaSection header="<code>props</code>">
        <section>
            <ul>
                <li><code>&lt;slot /&gt;</code> er god til at sende <strong>lidt</strong> tekst / markup ned</li>
                <li>Men ofte vil vi gerne have bestemte strukturer i vores markup</li>
                <li>Til det bruger vi <code>props</code></li>
                <li><code>props</code> er variabler vi kan bruge i vores component</li>
            </ul>
        </section>
        <section>
        <h2>Don't do this</h2>
            <svg viewBox="0 0 100 100" class="explanation" style="top:0;">
                <line class="fragment" x1="5" y1="10" x2="95" y2="40" stroke-width="4" stroke="red"/>
                <line class="fragment" x1="95" y1="10" x2="5" y2="40" stroke-width="4" stroke="red"/>
            </svg>
            <Code code={snippets["props-1.svelte"]} stretch />
            <p class="fragment">Det er klodset</p>
            <p class="fragment">Vores component er svær at genbruge</p>
        </section>

        <section>
            <h3>Props to the rescue</h3>
            <ol>
                <li>Vi definerer hvad der skal være dynamisk i vores component</li>
                <li>Vi <code>export</code>'er variablerne</li>
                <li>Vi sender data ned som attributter</li>
            </ol>
        </section>
        
        <section>
            <h4>receiving props</h4>
                <Code code={snippets["props-3.svelte"]} lineNumbers="3-5|9-11" />
            <div class="fragment">
                <h4>sending props</h4>
                <Code code={snippets["props-2.svelte"]}  />
            </div>
        </section>

        <section>
            <h2>Lad os prøve</h2>
        </section>
    </AgendaSection>

    <AgendaSection header="Øvelse" />

    <section><h1>Lad os kigge på vores mål</h1></section>
</SlideLayout>